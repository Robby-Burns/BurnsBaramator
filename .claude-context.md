# Claude Context - BurnsJobBaramator

> Last Updated: February 2026
> Project Phase: Implementation (Step 6)
> Current Sprint: Testing & Deployment Setup

---

## üìç Current State

### What I'm Working On Right Now
- Feature: Testing Infrastructure & Vercel Deployment
- Files modified: `pytest.ini`, `tests/`, `vercel.json`, `api/index.py`
- Status: Tests Configured, Vercel Configured
- Blocker (if any): None

### What Was Built in Last Session
- Configured `pytest` infrastructure
- Added unit tests for DB and Agents (`tests/test_db.py`, `tests/test_agents.py`)
- Created `vercel.json` and `api/index.py` for Vercel deployment
- Note: Vercel serverless functions have timeouts and ephemeral filesystems. For production, we need a persistent DB (Postgres) and async workers.

---

## üèóÔ∏è Project Structure

### Current Architecture
```
/burns-barometer
  /agents          - Core logic (Scout, Barometer, Mirror, Tribunal, Gatekeeper)
  /db              - Database (SQLite local, needs Postgres for Vercel)
  /api             - Vercel serverless entry point
  /tests           - Pytest suite
  vercel.json      - Vercel config
  Dockerfile       - Docker config
  main.py          - Local orchestrator
```

### Key Files & Their Status
| File | Status | Notes |
|------|--------|-------|
| `tests/test_db.py` | Created | Tests DB operations |
| `tests/test_agents.py` | Created | Tests agent logic with mocks |
| `vercel.json` | Created | Config for Vercel Python runtime |
| `api/index.py` | Created | FastAPI entry point for Vercel |

---

## üîß Recent Changes

### Session [Current Date]
**Changed:**
- Added testing suite
- Added Vercel configuration

**Files Modified:**
- `pytest.ini` (new)
- `tests/conftest.py` (new)
- `tests/test_db.py` (new)
- `tests/test_agents.py` (new)
- `vercel.json` (new)
- `api/index.py` (new)

---

## ‚öôÔ∏è Configuration & Dependencies

### Current LLM Setup
- Provider: Anthropic (Claude) / OpenAI (swappable)
- Model: Claude 3.5 Sonnet / GPT-4o

### Environment Variables Required
```bash
ANTHROPIC_API_KEY=sk-...       # Required
DATABASE_URL=sqlite:///jobs.db # Default (Local)
# DATABASE_URL=postgres://...  # Required for Vercel
```

---

## üéØ Active Features & Status

### In Progress
- [x] Scout agent (scraper) implementation
- [x] Barometer agent (fit analysis)
- [x] Mirror agent (resume generation)
- [x] Tribunal agent (review)
- [x] Gatekeeper agent (approval)
- [x] Testing suite
- [x] Vercel configuration

### Planned
- [ ] Migration to Postgres for Vercel production

---

## üêõ Known Issues & Workarounds

### ISSUE-1: Vercel + SQLite
**Impact:** SQLite is read-only/ephemeral on Vercel.
**Workaround:** Use Docker for local/VPS deployment. For Vercel, must switch `DATABASE_URL` to a hosted Postgres (Neon/Supabase).
**Status:** Documented.

---

## üöÄ Next Steps

### Immediate
1. Run tests: `pytest`
2. For Vercel deploy: Set up Postgres DB and update env vars.

---

**‚ö†Ô∏è REMEMBER TO UPDATE THIS FILE AFTER EVERY BUILD SESSION! ‚ö†Ô∏è**
